{"ast":null,"code":"var _jsxFileName = \"/home/leo/Dev/Desafio_frontend_troupe_tecnologia/front/src/components/Login/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { LoginPage, Background, LoginWindow, ProfileIcon, LoginWheel, LoginError, LoginButton } from \"./style\";\nimport Input from \"./Input\";\nimport assets from \"../../assets\";\nimport { Icon } from \"../../globalStyle\";\nimport { useFormik } from 'formik';\nimport { useHistory } from \"react-router\";\nimport { useSelector } from \"react-redux\";\nimport { useAppDispatch } from '../../store';\nimport { loginThunk } from '../../store/user';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const user = useSelector(state => state.user);\n  const history = useHistory();\n  if (user.loginStatus === 'LOGGED') history.push('/');\n  const dispatch = useAppDispatch();\n\n  const validate = values => {\n    const errors = {};\n\n    if (!values.login) {\n      errors.login = 'Requerido';\n    } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.login)) {\n      errors.login = 'Email inválido';\n    }\n\n    if (!values.password) {//errors.password = 'Required';\n    } else if (values.password.length < 6) {\n      errors.password = 'Deve ter pelo menos 8 caracteres';\n    }\n\n    return errors;\n  };\n\n  const formik = useFormik({\n    initialValues: {\n      login: '',\n      password: ''\n    },\n    validate,\n    onSubmit: async values => {\n      dispatch(loginThunk(values.login, values.password));\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(LoginPage, {\n    children: [/*#__PURE__*/_jsxDEV(Background, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(LoginWindow, {\n      children: [/*#__PURE__*/_jsxDEV(ProfileIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), user.loginStatus !== 'LOGGING' && /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: formik.handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          type: \"text\",\n          name: \"login\",\n          formik: formik,\n          label: \"E-mail\",\n          icon: assets.email_icon,\n          placeholder: \"exemplo@gmail.com\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"password\",\n          name: \"password\",\n          formik: formik,\n          label: \"Senha\",\n          icon: assets.key_icon,\n          placeholder: \"********\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(LoginError, {\n          children: [user.loginStatus === \"INCORRECT_LOGIN_OR_PASSWORD\" && /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Login ou password incorretos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 84\n          }, this), user.loginStatus === \"LOGIN_FAILURE\" && /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Houve um erro ao logar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 70\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(LoginButton, {\n          type: \"submit\",\n          style: {\n            width: '100%'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Icon, {\n            src: assets.login_icon,\n            width: \"32px\",\n            height: \"32px\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 29\n          }, this), \"Login\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }, this), user.loginStatus === 'LOGGING' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(LoginWheel, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 25\n        }, this)\n      }, void 0, false)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"C/VQZ/XKW4Ttg1C0PxFOhuBTbw8=\", false, function () {\n  return [useSelector, useHistory, useAppDispatch, useFormik];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/leo/Dev/Desafio_frontend_troupe_tecnologia/front/src/components/Login/index.tsx"],"names":["React","LoginPage","Background","LoginWindow","ProfileIcon","LoginWheel","LoginError","LoginButton","Input","assets","Icon","useFormik","useHistory","useSelector","useAppDispatch","loginThunk","Login","user","state","history","loginStatus","push","dispatch","validate","values","errors","login","test","password","length","formik","initialValues","onSubmit","handleSubmit","email_icon","key_icon","width","login_icon"],"mappings":"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","sourcesContent":["\nimport React from \"react\";\nimport { LoginPage, Background, LoginWindow, ProfileIcon, LoginWheel, LoginError, LoginButton } from \"./style\";\nimport Input from \"./Input\";\nimport assets from \"../../assets\";\nimport { Icon, Button, LoaderWheel } from \"../../globalStyle\";\nimport { useFormik } from 'formik';\nimport { useHistory } from \"react-router\";\nimport { useSelector } from \"react-redux\";\nimport { RootState, useAppDispatch } from '../../store';\nimport { loginThunk, loginFailure } from '../../store/user';\n\nfunction Login() {\n\n    const user = useSelector((state: RootState) => state.user);\n    const history = useHistory();\n\n    if (user.loginStatus === 'LOGGED')\n        history.push('/');\n        \n    const dispatch = useAppDispatch();\n\n    const validate = (values: { login: string, password: string }) => {\n\n        const errors: Partial<typeof values> = {};\n\n        if (!values.login) {\n            errors.login = 'Requerido';\n        } else if (\n            !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.login)\n        ) {\n            errors.login = 'Email inválido';\n        }\n        if (!values.password) {\n            //errors.password = 'Required';\n        } else if (\n            values.password.length < 6\n        ) {\n            errors.password = 'Deve ter pelo menos 8 caracteres';\n        }\n        return errors;\n    }\n\n    const formik = useFormik({\n        initialValues: {\n            login: '',\n            password: '',\n        },\n        validate,\n        onSubmit: async (values) => {\n            dispatch(loginThunk(values.login, values.password));\n        },\n    });\n\n    return (\n        <LoginPage>\n            <Background />\n            <LoginWindow>\n                <ProfileIcon />\n                <h1>Login</h1>\n                {(user.loginStatus !== 'LOGGING') &&\n                    <form onSubmit={formik.handleSubmit}>\n                        <Input\n                            type='text'\n                            name='login'\n                            formik={formik}\n                            label='E-mail'\n                            icon={assets.email_icon}\n                            placeholder='exemplo@gmail.com'\n                        />\n                        <Input\n                            type='password'\n                            name='password'\n                            formik={formik}\n                            label='Senha'\n                            icon={assets.key_icon}\n                            placeholder='********'\n                        />\n                        <LoginError>\n                            {user.loginStatus === \"INCORRECT_LOGIN_OR_PASSWORD\" && <span>Login ou password incorretos</span>\n                            }\n                            {user.loginStatus === \"LOGIN_FAILURE\" && <span>Houve um erro ao logar</span>\n                            }\n\n                        </LoginError>\n                        <LoginButton type='submit' style={{ width: '100%' }}>\n                            <Icon src={assets.login_icon} width='32px' height='32px' />\n                            Login\n                        </LoginButton>\n\n                    </form>\n                }\n                {user.loginStatus === 'LOGGING' &&\n                    <>\n                        <LoginWheel></LoginWheel>\n                    </>\n                }\n            </LoginWindow>\n        </LoginPage >\n    );\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}